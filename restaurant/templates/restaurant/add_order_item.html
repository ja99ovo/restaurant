<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Ajouter une commande</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            display: flex;
            flex-wrap: wrap; /* 允许元素在必要时换行 */
            justify-content: space-around;
            margin: 20px;
        }

        .section {
            flex: 0 0 100%; /* 在小屏幕上，让元素占据全部宽度 */
            padding: 10px;
            margin: 5px;
            border: 1px solid #ddd;
        }

        @media (min-width: 768px) { /* 平板和桌面屏幕 */
            .section {
                flex: 1; /* 允许元素在大屏幕上灵活伸缩 */
            }
        }

        .section h1 {
            display: inline-block;
            margin: 5px;
        }

        .section button {
            margin: 5px;
        }
        .drink-item {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="section people">
            <h3>Nombre de personnes</h3>
            <div>
                <h1 >Adultes</h1><h1 id="display_adults">0</h1>
                <button type="button" onclick="increment('adults')">Adultes +1</button>
                <button type="button" onclick="decrement('adults')">Adultes -1</button>
            </div>
            <div>
                <h1 >Grands enfants</h1><h1 id="display_kids">0</h1>
                <button type="button" onclick="increment('kids')">Grands enfants +1</button>
                <button type="button" onclick="decrement('kids')">Grands enfants -1</button>
            </div>
            <div>
                <h1 >Petits enfants</h1><h1 id="display_toddlers">0</h1>
                <button type="button" onclick="increment('toddlers')">Petits enfants +1</button>
                <button type="button" onclick="decrement('toddlers')">Petits enfants -1</button>
            </div>
        </div>

        <!-- 分类 SA 的酒水 -->
        <div class="section drinks">
            <h3>COCKTAILS SA</h3>
            <ul>
                {% for boisson in boissons_sa %}
                    <li class="drink-item">
                        {{ boisson.name }}
                        <span id="display_boisson_{{ boisson.id }}">0</span>
                        <button type="button" onclick="increment('boisson_{{ boisson.id }}')">+</button>
                        <button type="button" onclick="decrement('boisson_{{ boisson.id }}')">-</button>
                        <input type="hidden" id="id_boisson_{{ boisson.id }}" name="boisson_{{ boisson.id }}" value="0">
                    </li>   
                {% endfor %}
            </ul>
        </div>

        <!-- 分类 AA 的酒水 -->
        <div class="section drinks aa">
            <h3>COCKTAILS AA</h3>
            <ul>
                {% for boisson in boissons_aa %}
                    <li class="drink-item">
                        {{ boisson.name }}
                        <span id="display_boisson_{{ boisson.id }}">0</span>
                        <button type="button" onclick="increment('boisson_{{ boisson.id }}')">+</button>
                        <button type="button" onclick="decrement('boisson_{{ boisson.id }}')">-</button>
                        <input type="hidden" id="id_boisson_{{ boisson.id }}" name="boisson_{{ boisson.id }}" value="0">
                    </li>   
                {% endfor %}
            </ul>
        </div>
    </div>
    
    <form method="post">
        {% csrf_token %}
        {{ form.adults }}
        {{ form.kids }}
        {{ form.toddlers }}
        <!-- 隐藏的酒水数量输入将在这里通过JavaScript更新 -->
        <button type="submit">提交 Soumettre</button>
    </form>

    <script>
        function increment(id) {
            var display_span = document.getElementById("display_" + id);
            var input = document.getElementById("id_" + id);
            var currentValue = parseInt(display_span.innerText);
            display_span.innerText = currentValue + 1;
            input.value = currentValue + 1;
        }

        function decrement(id) {
            var display_span = document.getElementById("display_" + id);
            var input = document.getElementById("id_" + id);
            var currentValue = parseInt(display_span.innerText);
            if (currentValue > 0) {
                display_span.innerText = currentValue - 1;
                input.value = currentValue - 1;
            }
        }
    </script>
</body>
</html>
